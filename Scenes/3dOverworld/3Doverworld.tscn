[gd_scene load_steps=34 format=3 uid="uid://bccx782urtjhn"]

[ext_resource type="Script" path="res://Scenes/Overworld/3doverworld_main.gd" id="1_f3uv4"]
[ext_resource type="Script" path="res://enemy_resources/enemies.gd" id="2_5d31b"]
[ext_resource type="Resource" uid="uid://d1y8eprvwt18s" path="res://enemy_resources/enemy_identityfiles/wolfearth_evo1.tres" id="3_pbcuk"]
[ext_resource type="Resource" uid="uid://c8i7wb06r6rb" path="res://enemy_resources/enemy_identityfiles/orc_evo1.tres" id="4_tjnqw"]
[ext_resource type="Resource" uid="uid://tqyg7cum5uao" path="res://enemy_resources/enemy_identityfiles/horseman_evo1.tres" id="5_to6y4"]
[ext_resource type="Resource" uid="uid://di28wqrog2dc2" path="res://enemy_resources/enemy_identityfiles/ent.tres" id="6_moh50"]
[ext_resource type="Resource" uid="uid://bqtd4aervcacs" path="res://enemy_resources/enemy_identityfiles/deadent.tres" id="7_0pd4n"]
[ext_resource type="Resource" uid="uid://dkbwfc1rxwgmn" path="res://enemy_resources/enemy_identityfiles/warbear_evo1.tres" id="8_4rm6w"]
[ext_resource type="Texture2D" uid="uid://0ydqt7oi8ul0" path="res://bg_art/PNG/Fields_battle_test2.jpg" id="9_c181s"]
[ext_resource type="Terrain3DStorage" uid="uid://pn2u0sl4nano" path="res://terrain3d_resources/terrain_3d_storage.res" id="10_2hj0q"]
[ext_resource type="Terrain3DMaterial" uid="uid://dge3kxkoh7syd" path="res://terrain3d_resources/terrain_3d_material.tres" id="11_8d4yb"]
[ext_resource type="Terrain3DAssets" uid="uid://ggtkcr8t13k" path="res://terrain3d_resources/terrain_3d_assets.tres" id="12_bpohc"]
[ext_resource type="Script" path="res://Scenes/Overworld/3dcharacter_body.gd" id="13_wk6ks"]
[ext_resource type="SpriteFrames" uid="uid://jtk22f2psyhj" path="res://Scenes/Overworld/Playerbody_SF.tres" id="14_v7pgr"]
[ext_resource type="Script" path="res://addons/waterways_net/RiverManager.cs" id="15_4bexd"]
[ext_resource type="Texture2D" uid="uid://b85tlq8wcklbo" path="res://addons/waterways_net/Textures/water_normal_bump.png" id="16_gyxte"]
[ext_resource type="Script" path="res://addons/waterways_net/Data/RiverShaderSettings.cs" id="17_41ba2"]
[ext_resource type="Texture2D" uid="uid://cbg7h3fsecjjl" path="res://textures/Objects/H1.png" id="18_kf7qx"]
[ext_resource type="Texture2D" uid="uid://cosgk8bcrlbt0" path="res://textures/Objects/Dock.png" id="19_s66hs"]
[ext_resource type="SpriteFrames" uid="uid://cikw515l1ch0k" path="res://enemy_spriteframes/HoodedFigure_sf.tres" id="20_qjilx"]
[ext_resource type="SpriteFrames" uid="uid://dfj11x1cnrhcx" path="res://enemy_spriteframes/Knight_sf.tres" id="21_kx6y4"]
[ext_resource type="Texture2D" uid="uid://tlc7dpt1thgf" path="res://textures/Terrain/mountain1c.png" id="22_lsdq5"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_h5yrn"]

[sub_resource type="Sky" id="Sky_k21ws"]
sky_material = SubResource("ProceduralSkyMaterial_h5yrn")

[sub_resource type="Environment" id="Environment_0g2g2"]
background_mode = 2
sky = SubResource("Sky_k21ws")

[sub_resource type="BoxShape3D" id="BoxShape3D_ae0k2"]
size = Vector3(2.6059, 4.43323, 4.16797)

[sub_resource type="MeshTexture" id="MeshTexture_wrk1x"]

[sub_resource type="Resource" id="Resource_mb6e2"]
script = ExtResource("17_41ba2")
MatShaderType = 1
FoamNoise = SubResource("MeshTexture_wrk1x")
mat_albedo_color_first = Color(0.6, 0.7, 0.65, 1)
mat_albedo_color_second = Color(0.0541346, 0.176093, 0.307844, 1)
mat_albedo_depth = 5.505
mat_albedo_depth_curve = 0.148651
mat_transparency_clarity = 0.0
mat_transparency_depth_curve = 1.6245
mat_transparency_refraction = -0.00599995
mat_normal_scale = -14.201
mat_normal_bump_texture = ExtResource("16_gyxte")
mat_flow_speed = 0.015
mat_flow_base = 8.0
mat_flow_steepness = 8.0
mat_flow_distance = 8.0
mat_flow_pressure = 0.0
mat_flow_max = 0.315
mat_foam_color = Color(0.9, 0.9, 0.9, 1)
mat_foam_amount = 0.0
mat_foam_steepness = 0.0
mat_foam_smoothness = 0.0
mat_uv_scale = Vector3(5, 10, 10)
mat_roughness = 0.282
mat_edge_fade = 0.454
LodLod0Distance = 50.0
_selectedShader = 1

[sub_resource type="Curve3D" id="Curve3D_v0qog"]
resource_local_to_scene = true
_data = {
"points": PackedVector3Array(0, 0, -0.25, 0, 0, 0.25, 0, 0, 0, 0, 0, -0.25, 0, 0, 0.25, 0, 0, 1),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_y7q7m"]
size = Vector3(0.001, 1, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_bdg2r"]
size = Vector3(15.6608, 9.24354, 0.001)

[sub_resource type="BoxShape3D" id="BoxShape3D_nvrgo"]
size = Vector3(6.37515, 4.23935, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_rcogi"]
size = Vector3(2.63522, 1, 1)

[node name="Node3D" type="Node3D"]
script = ExtResource("1_f3uv4")
world_enemies = Array[ExtResource("2_5d31b")]([ExtResource("3_pbcuk"), ExtResource("4_tjnqw"), ExtResource("5_to6y4"), ExtResource("6_moh50"), ExtResource("7_0pd4n"), ExtResource("8_4rm6w")])
battle_bg = ExtResource("9_c181s")
max_spawn_range = 25

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_0g2g2")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)

[node name="Terrain3D" type="Terrain3D" parent="."]
storage = ExtResource("10_2hj0q")
material = ExtResource("11_8d4yb")
assets = ExtResource("12_bpohc")

[node name="Player" type="CharacterBody3D" parent="."]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -926.382, 0.1, -1495.78)
script = ExtResource("13_wk6ks")

[node name="Camera3D" type="Camera3D" parent="Player"]
transform = Transform3D(0.970874, 0, 0, 0, -4.24383e-08, 0.970874, 0, -0.970874, -4.24383e-08, 0, 10, 0)
projection = 1
fov = 168.0
size = 70.769
near = 0.626
far = 2238.55

[node name="CollisionPolygon3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.155518, 1.60785, 0.0849609)
shape = SubResource("BoxShape3D_ae0k2")

[node name="RayCast3D" type="RayCast3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0664063, 0, -0.0214844)
target_position = Vector3(0, 0.2, 0)

[node name="AnimatedSprite3D" type="AnimatedSprite3D" parent="Player"]
transform = Transform3D(30, 0, 0, 0, -1.31134e-06, 30, 0, -30, -1.31134e-06, 0, 0, 0)
sprite_frames = ExtResource("14_v7pgr")
animation = &"idledown"

[node name="RiverManager" type="Node3D" parent="."]
transform = Transform3D(1.20386, 0, -2925.05, 0, 81.6338, 0, 163.062, 0, 21.5952, -938.821, -2.60174, -1631.89)
script = ExtResource("15_4bexd")
ShaderSettings = SubResource("Resource_mb6e2")
ShapeStepLengthDivs = 7
ShapeStepWidthDivs = 8
ShapeSmoothness = 0.1
PointWidths = [6.04521, 5.16049]
Curve = SubResource("Curve3D_v0qog")

[node name="Knight" type="AnimatedSprite3D" parent="."]
transform = Transform3D(2.4, 0, 0, 0, -1.04907e-07, 2.4, 0, -2.4, -1.04907e-07, -921.187, 0.265998, -1495.81)
alpha_cut = 3
texture_filter = 1
sprite_frames = ExtResource("21_kx6y4")
animation = &"idle"
autoplay = "idle"

[node name="StaticBody2D2" type="StaticBody3D" parent="Knight"]
transform = Transform3D(0.708466, 0, 0, 0, 0.576751, 0, 0, 0, 0, 2545.05, 822.69, 0)

[node name="CollisionShape2D" type="CollisionShape3D" parent="Knight/StaticBody2D2"]
transform = Transform3D(1.27808e-12, 0, 0, 0, 1.2781e-12, 0, 0, 0, 0, -3.81906, -1.59909, 0)
shape = SubResource("BoxShape3D_y7q7m")

[node name="Mountain2" type="Sprite3D" parent="."]
transform = Transform3D(7.5, 0, 0, 0, -3.27835e-07, 7.5, 0, -7.5, -3.27835e-07, -903.672, 0.4, -1508.97)
alpha_cut = 3
texture_filter = 1
texture = ExtResource("22_lsdq5")
region_enabled = true
region_rect = Rect2(0, 0, 3264, 2056)

[node name="Mountain3" type="Sprite3D" parent="."]
transform = Transform3D(7.7835, 0, 0, 0, -3.37654e-07, 7.10606, 0, -7.72463, -3.10616e-07, -466.409, 0.4, -1403.18)
alpha_cut = 3
texture_filter = 1
texture = ExtResource("22_lsdq5")

[node name="Mountain" type="Sprite3D" parent="."]
transform = Transform3D(7.5, 0, 0, 0, -3.27835e-07, 7.5, 0, -7.5, -3.27835e-07, -686.731, 0.4, -1457.78)
alpha_cut = 3
texture_filter = 1
texture = ExtResource("22_lsdq5")

[node name="CaveEntrance" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -923.675, 0, -1499.85)

[node name="CollisionShape3D" type="CollisionShape3D" parent="CaveEntrance"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.24731, 0, -0.756714)
shape = SubResource("BoxShape3D_bdg2r")

[node name="Dock" type="Sprite3D" parent="."]
transform = Transform3D(17.5, 0, 0, 0, -7.64949e-07, 17.5, 0, -17.5, -7.64949e-07, -955.203, -0.137314, -1465.42)
alpha_cut = 3
texture_filter = 1
texture = ExtResource("19_s66hs")

[node name="Hooded Figure" type="AnimatedSprite3D" parent="."]
transform = Transform3D(0.28, 0, 0, 0, -1.22392e-08, 0.28, 0, -0.28, -1.22392e-08, -963.968, -0.0347621, -1465.8)
alpha_cut = 3
texture_filter = 1
sprite_frames = ExtResource("20_qjilx")
animation = &"idle"
autoplay = "idle"

[node name="H1" type="Sprite3D" parent="."]
transform = Transform3D(2, 0, 0, 0, -8.74228e-08, 2, 0, -2, -8.74228e-08, -921.334, 0.2, -1462.93)
alpha_cut = 3
texture = ExtResource("18_kf7qx")
metadata/_aseprite_wizard_interface_config_ = {
"animation_section": false,
"layer_section": false,
"output_section": false,
"slice_section": false
}

[node name="StaticBody2D" type="StaticBody3D" parent="H1"]
transform = Transform3D(1, 0, 0, 0, 1, 3.55271e-15, 0, -3.55271e-15, 1, -0.867004, 0, 0.24003)

[node name="CollisionShape2D" type="CollisionShape3D" parent="H1/StaticBody2D"]
transform = Transform3D(1, 0, 0, 0, 1, 3.55271e-15, 0, -3.55271e-15, 1, 0.940002, -1.04468, -5.96046e-08)
shape = SubResource("BoxShape3D_nvrgo")

[node name="H1Entrancefront" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -922.249, 0.2, -1455.6)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="H1Entrancefront"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.817627, 0, 0)
shape = SubResource("BoxShape3D_rcogi")

[node name="H1Entranceback" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -929.015, 0.2, -1461.61)

[node name="CollisionShape3D" type="CollisionShape3D" parent="H1Entranceback"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
shape = SubResource("BoxShape3D_rcogi")

[connection signal="body_entered" from="CaveEntrance" to="." method="_on_CaveEntrance_body_entered"]
[connection signal="body_entered" from="H1Entrancefront" to="." method="_on_H1Entrancefront_body_entered"]
[connection signal="body_entered" from="H1Entranceback" to="." method="_on_H1Entranceback_body_entered"]
